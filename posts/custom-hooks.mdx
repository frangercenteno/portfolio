---
title: "Custom Hooks"
date: "2 de Enero 2022"
description: "Crea tus hooks personalizados"
thumbnailUrl: "/thumbnails/hooks.jpeg"
tags: ["react", "javascript"]
---
<Subtitle>Custom Hooks</Subtitle>

<Paragraph className="mb-10">
Los custom hooks son hooks creados y personalizados por nosotros mismos. Se basan en el API de la Liberia de React a partir de la versión 16.8.0 <span className="font-bold">React Hooks</span>. El propósito de crear custom hooks es abstraer lógica de estados de un componente.
</Paragraph>

<Subtitle>Principales características:</Subtitle>

- Los hooks son como legos, puedes utilizar varios hooks para crear uno totalmente nuevo.
- El nombre de las funciones hooks siempre deben empezar por la palabra use.
- Los hooks personalizados se basan en las mismas <a className="text-primary-default" href="https://es.reactjs.org/docs/hooks-rules.html">reglas</a> de los que vienen por defecto en la librería de React (useEffect, useState...).

<Subtitle>Las principales ventajas:</Subtitle>

- Ayuda al mantenimiento con lógica separada y agnóstica a los componentes.
- Es más fácil para realizar test.
- Se complementa con otros patrones en desarrollo con React.

<Subtitle>Las principal desventaja:</Subtitle>

- Solo se pueden utilizar a partir de la versión 16.8.0 de React.

<Subtitle>¿Cuando utilizar custom hooks?</Subtitle>

<Paragraph className="mb-10">
Básicamente cada vez que quieras reutilizar lógica de estado entre componentes,  por ejemplo: Formularios, animaciones, llamadas de APIs, etc.
</Paragraph>

<Subtitle className="mb-10">Ejemplo sin custom hooks.</Subtitle>

```jsx
import React, { useState, useEffect } from "react";

const apiUrl = "https://api.github.com/users/frangercenteno/repos?sort=created";

const ComponentWithoutCustomHooks = () => {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    const doFetchData = async () => {
      const fetchRepos = async () => {
        try {
          setIsLoading(true);
          const response = await fetch(apiUrl);
          const data = await response.json();
          setData(data);
        } catch (e) {
          setError(e);
        } finally {
          setIsLoading(false);
        }
      };
      fetchRepos();
    };

    doFetchData();
  }, []);

  if (isLoading) {
    return "Loading...";
  }

  if (error) {
    return <p>{error.message}</p>;
  }

  if (!data) {
    return null;
  }

  return data.map(({ name, id, html_url }) => (
    <div key={id}>
      <p>
        <a href={html_url} target="_blank" rel="noopener noreferrer">
          {name}
        </a>
      </p>
    </div>
  ));
};

export default ComponentWithoutCustomHooks;
```

<Subtitle className="mb-10 mt-10">Ejemplo con custom hooks.</Subtitle>

```jsx
import React, { useState, useEffect } from "react";

const apiUrl = "https://api.github.com/users/frangercenteno/repos?sort=created";

const useFetchData = (url) => {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    const doFetchData = async () => {
      const fetchRepos = async () => {
        try {
          setIsLoading(true);
          const response = await fetch(url);
          const data = await response.json();
          setData(data);
        } catch (e) {
          setError(e);
        } finally {
          setIsLoading(false);
        }
      };
      fetchRepos();
    };

    doFetchData();
  }, []);

  return {
    data,
    isLoading,
    error,
  };
};

const ComponentWithCustomHooks = () => {
  const { data, isFetching, error } = useFetchData(apiUrl);

  if (isFetching) {
    return "Loading...";
  }

  if (error) {
    return <p>{error.message}</p>;
  }

  if (!data) {
    return null;
  }

  return data.map(({ name, html_url }) => (
    <div key={html_url}>
      <p>
        <a href={html_url} target="_blank" rel="noopener noreferrer">
          {name}
        </a>
      </p>
    </div>
  ));
};

export default ComponentWithCustomHooks;
```

<Subtitle className="mb-10 mt-10">Conclusión.</Subtitle>

<Paragraph>
No tengas miedo a crear tus propios hooks para expandir las funcionalidades de los mismos, como bonus te dejo este repositorio con muchos custom hooks creados por la comunidad que te pueden servir como inspiración o utilizarlos directamente. <a className="text-primary-default" href="https://github.com/streamich/react-use">Link</a>
</Paragraph>
<Paragraph>
Gracias por tu tiempo.
</Paragraph>